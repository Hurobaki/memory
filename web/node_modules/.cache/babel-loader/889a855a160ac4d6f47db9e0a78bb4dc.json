{"ast":null,"code":"import _defineProperty from\"/Users/the3796/Repositories/memory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/the3796/Repositories/memory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/the3796/Repositories/memory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/the3796/Repositories/memory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createContext,useState,useEffect}from\"react\";import{Card}from\"../components/Card\";import{makeStyles}from\"@material-ui/core/styles\";import Drawer from\"@material-ui/core/Drawer\";import AppBar from\"@material-ui/core/AppBar\";import CssBaseline from\"@material-ui/core/CssBaseline\";import Toolbar from\"@material-ui/core/Toolbar\";import List from\"@material-ui/core/List\";import Typography from\"@material-ui/core/Typography\";import Divider from\"@material-ui/core/Divider\";import ListItem from\"@material-ui/core/ListItem\";import ListItemIcon from\"@material-ui/core/ListItemIcon\";import ListItemText from\"@material-ui/core/ListItemText\";import MailIcon from\"@material-ui/icons/Mail\";import HelpIcon from\"@material-ui/icons/Help\";import CreditCardIcon from\"@material-ui/icons/CreditCard\";export var CardContext=createContext(null);var cardsData=[{id:1,data:\"//static.pexels.com/photos/59523/pexels-photo-59523.jpeg\",type:\"image\"},{id:1,data:\"Un chien\",type:\"text\"},{id:2,data:\"Un chat\",type:\"text\"},{id:2,data:\"https://images.pexels.com/photos/416160/pexels-photo-416160.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\",type:\"image\"},{id:3,data:\"https://images.pexels.com/photos/148182/pexels-photo-148182.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\",type:\"image\"},{id:3,data:\"Un panda\",type:\"text\"},{id:4,data:\"https://images.pexels.com/photos/35435/pexels-photo.jpg?auto=compress&cs=tinysrgb&dpr=2&w=500\",type:\"image\"},{id:4,data:\"Un ours\",type:\"text\"},{id:5,data:\"https://images.pexels.com/photos/247502/pexels-photo-247502.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\",type:\"image\"},{id:5,data:\"Un lion\",type:\"text\"},{id:6,data:\"https://images.pexels.com/photos/397857/pexels-photo-397857.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\",type:\"image\"},{id:6,data:\"Un loup\",type:\"text\"},{id:7,data:\"https://images.pexels.com/photos/66898/elephant-cub-tsavo-kenya-66898.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\",type:\"image\"},{id:7,data:\"Un éléphant\",type:\"text\"},{id:8,data:\"https://images.pexels.com/photos/2590768/pexels-photo-2590768.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\",type:\"image\"},{id:8,data:\"Un koala\",type:\"text\"},{id:9,data:\"https://images.pexels.com/photos/35992/gorilla-monkey-ape-zoo.jpg?auto=compress&cs=tinysrgb&dpr=2&w=500\",type:\"image\"},{id:9,data:\"Un gorille\",type:\"text\"},{id:10,data:\"https://images.pexels.com/photos/326012/pexels-photo-326012.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\",type:\"image\"},{id:10,data:\"Un lapin\",type:\"text\"}];var drawerWidth=240;var useStyles=makeStyles(function(theme){return{root:{display:\"flex\"},appBar:{zIndex:theme.zIndex.drawer+1},drawer:{width:drawerWidth,flexShrink:0},drawerPaper:{width:drawerWidth},drawerContainer:{overflow:\"auto\"},content:{flexGrow:1,padding:theme.spacing(3)}};});export var CardPage=function CardPage(){var _useState=useState(cardsData),_useState2=_slicedToArray(_useState,2),cards=_useState2[0],setCards=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),clickedCards=_useState4[0],setClickedCards=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),coverCards=_useState6[0],setCoverCards=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),removedCards=_useState8[0],setRemovedCard=_useState8[1];var classes=useStyles();useEffect(function(){setCards(function(cards){return cards.map(function(card){return{sort:Math.random(),value:card};}).sort(function(a,b){return a.sort-b.sort;}).map(function(_ref){var value=_ref.value;return value;});});},[]);var handlerAddCard=function handlerAddCard(card){setClickedCards(function(clickedCards){return[].concat(_toConsumableArray(clickedCards),[card]);});};var handlerRemoveCard=function handlerRemoveCard(card){setClickedCards(function(clickedCards){return clickedCards.filter(function(_ref2){var id=_ref2.id,type=_ref2.type;return id!==card.id&&type!==card.type;});});};useEffect(function(){console.log(clickedCards);if(clickedCards.length===2){var _clickedCards=_slicedToArray(clickedCards,2),card1=_clickedCards[0],card2=_clickedCards[1];if(card1.id===card2.id&&card1.type!==card2.type){setTimeout(function(){setRemovedCard(function(removedCards){return[].concat(_toConsumableArray(removedCards),[card1.id]);});},1000);}setTimeout(function(){setCoverCards(true);},1000);setClickedCards([]);}else{setCoverCards(false);}},[clickedCards]);var shuffle=function shuffle(array){var counter=array.length;// While there are elements in the array\nwhile(counter>0){// Pick a random index\nvar index=Math.floor(Math.random()*counter);// Decrease counter by 1\ncounter--;// And swap the last element with it\nvar temp=array[counter];array[counter]=array[index];array[index]=temp;}return array;};var onClickHandler=function onClickHandler(cardNumber){return function(){var cardDataTuples=cardsData.reduce(function(acc,curr){var keepValues=acc[curr[\"id\"]]?acc[curr[\"id\"]]:[];return _objectSpread({},acc,_defineProperty({},curr[\"id\"],[curr].concat(_toConsumableArray(keepValues))));},{});var shuffleArray=shuffle(Object.values(cardDataTuples)).slice(0,cardNumber/2).reduce(function(acc,curr){return[].concat(_toConsumableArray(acc),_toConsumableArray(curr));},[]);console.log(shuffleArray);setCards(shuffleArray);};};return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(AppBar,{position:\"fixed\",className:classes.appBar},/*#__PURE__*/React.createElement(Toolbar,null,/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",noWrap:true},\"Memory\"))),/*#__PURE__*/React.createElement(Drawer,{className:classes.drawer,variant:\"permanent\",classes:{paper:classes.drawerPaper}},/*#__PURE__*/React.createElement(Toolbar,null),/*#__PURE__*/React.createElement(\"div\",{className:classes.drawerContainer},/*#__PURE__*/React.createElement(List,null,/*#__PURE__*/React.createElement(ListItem,{button:true,onClick:onClickHandler(12)},/*#__PURE__*/React.createElement(ListItemIcon,null,/*#__PURE__*/React.createElement(CreditCardIcon,null)),/*#__PURE__*/React.createElement(ListItemText,{primary:\"12 cartes\"})),/*#__PURE__*/React.createElement(ListItem,{button:true,onClick:onClickHandler(16)},/*#__PURE__*/React.createElement(ListItemIcon,null,/*#__PURE__*/React.createElement(CreditCardIcon,null)),/*#__PURE__*/React.createElement(ListItemText,{primary:\"16 cartes\"})),/*#__PURE__*/React.createElement(ListItem,{button:true,onClick:onClickHandler(20)},/*#__PURE__*/React.createElement(ListItemIcon,null,/*#__PURE__*/React.createElement(CreditCardIcon,null)),/*#__PURE__*/React.createElement(ListItemText,{primary:\"20 cartes\"})),/*#__PURE__*/React.createElement(ListItem,{button:true,onClick:onClickHandler(24)},/*#__PURE__*/React.createElement(ListItemIcon,null,/*#__PURE__*/React.createElement(CreditCardIcon,null)),/*#__PURE__*/React.createElement(ListItemText,{primary:\"24 cartes\"}))),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(List,null,/*#__PURE__*/React.createElement(ListItem,{button:true,key:\"Aide\"},/*#__PURE__*/React.createElement(ListItemIcon,null,/*#__PURE__*/React.createElement(HelpIcon,null)),/*#__PURE__*/React.createElement(ListItemText,{primary:\"Aide\"})),/*#__PURE__*/React.createElement(ListItem,{button:true,key:\"Contact\"},/*#__PURE__*/React.createElement(ListItemIcon,null,/*#__PURE__*/React.createElement(MailIcon,null)),/*#__PURE__*/React.createElement(ListItemText,{primary:\"Contact\"}))))),/*#__PURE__*/React.createElement(\"main\",{className:classes.content},/*#__PURE__*/React.createElement(Toolbar,null),/*#__PURE__*/React.createElement(CardContext.Provider,{value:{handlerAddCard:handlerAddCard,handlerRemoveCard:handlerRemoveCard}},/*#__PURE__*/React.createElement(\"div\",{style:styles.parent},cards.filter(function(_ref3){var id=_ref3.id;return!removedCards.includes(id);}).map(function(card){return/*#__PURE__*/React.createElement(Card,{key:\"\".concat(card.id).concat(card.type),card:card,cover:coverCards});})))));};var styles={parent:{display:\"flex\",flex:1,flexWrap:\"wrap\",justifyContent:\"space-around\",paddingTop:5}};/*\n<div\n      style={{\n        display: \"flex\",\n        flex: 1,\n        flexWrap: \"wrap\",\n        justifyContent: \"center\",\n        flexDirection: \"column\"\n      }}\n    >\n      <Header />\n      <div\n        style={{\n          display: \"flex\",\n          flex: 1,\n          flexDirection: \"row\"\n        }}\n      >\n        <SideBar />\n        <CardContext.Provider value={{ handlerAddCard, handlerRemoveCard }}>\n          <div style={styles.parent}>\n            {cards\n              .filter(({ id }) => !removedCards.includes(id))\n              .map(card => (\n                <Card\n                  key={`${card.id}${card.type}`}\n                  card={card}\n                  cover={coverCards}\n                />\n              ))}\n          </div>\n        </CardContext.Provider>\n      </div>\n    </div>\n*/","map":{"version":3,"sources":["/Users/the3796/Repositories/memory/src/pages/CardPage.js"],"names":["React","createContext","useState","useEffect","Card","makeStyles","Drawer","AppBar","CssBaseline","Toolbar","List","Typography","Divider","ListItem","ListItemIcon","ListItemText","MailIcon","HelpIcon","CreditCardIcon","CardContext","cardsData","id","data","type","drawerWidth","useStyles","theme","root","display","appBar","zIndex","drawer","width","flexShrink","drawerPaper","drawerContainer","overflow","content","flexGrow","padding","spacing","CardPage","cards","setCards","clickedCards","setClickedCards","coverCards","setCoverCards","removedCards","setRemovedCard","classes","map","card","sort","Math","random","value","a","b","handlerAddCard","handlerRemoveCard","filter","console","log","length","card1","card2","setTimeout","shuffle","array","counter","index","floor","temp","onClickHandler","cardNumber","cardDataTuples","reduce","acc","curr","keepValues","shuffleArray","Object","values","slice","paper","styles","parent","includes","flex","flexWrap","justifyContent","paddingTop"],"mappings":"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","sourcesContent":["import React, { createContext, useState, useEffect } from \"react\";\nimport { Card } from \"../components/Card\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport List from \"@material-ui/core/List\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport MailIcon from \"@material-ui/icons/Mail\";\nimport HelpIcon from \"@material-ui/icons/Help\";\nimport CreditCardIcon from \"@material-ui/icons/CreditCard\";\n\nexport const CardContext = createContext(null);\n\nconst cardsData = [\n  {\n    id: 1,\n    data: \"//static.pexels.com/photos/59523/pexels-photo-59523.jpeg\",\n    type: \"image\"\n  },\n  { id: 1, data: \"Un chien\", type: \"text\" },\n  { id: 2, data: \"Un chat\", type: \"text\" },\n  {\n    id: 2,\n    data:\n      \"https://images.pexels.com/photos/416160/pexels-photo-416160.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\",\n    type: \"image\"\n  },\n  {\n    id: 3,\n    data:\n      \"https://images.pexels.com/photos/148182/pexels-photo-148182.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\",\n    type: \"image\"\n  },\n  {\n    id: 3,\n    data: \"Un panda\",\n    type: \"text\"\n  },\n  {\n    id: 4,\n    data:\n      \"https://images.pexels.com/photos/35435/pexels-photo.jpg?auto=compress&cs=tinysrgb&dpr=2&w=500\",\n    type: \"image\"\n  },\n  {\n    id: 4,\n    data: \"Un ours\",\n    type: \"text\"\n  },\n  {\n    id: 5,\n    data:\n      \"https://images.pexels.com/photos/247502/pexels-photo-247502.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\",\n    type: \"image\"\n  },\n  {\n    id: 5,\n    data: \"Un lion\",\n    type: \"text\"\n  },\n  {\n    id: 6,\n    data:\n      \"https://images.pexels.com/photos/397857/pexels-photo-397857.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\",\n    type: \"image\"\n  },\n  {\n    id: 6,\n    data: \"Un loup\",\n    type: \"text\"\n  },\n  {\n    id: 7,\n    data:\n      \"https://images.pexels.com/photos/66898/elephant-cub-tsavo-kenya-66898.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\",\n    type: \"image\"\n  },\n  {\n    id: 7,\n    data: \"Un éléphant\",\n    type: \"text\"\n  },\n  {\n    id: 8,\n    data:\n      \"https://images.pexels.com/photos/2590768/pexels-photo-2590768.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\",\n    type: \"image\"\n  },\n  {\n    id: 8,\n    data: \"Un koala\",\n    type: \"text\"\n  },\n  {\n    id: 9,\n    data:\n      \"https://images.pexels.com/photos/35992/gorilla-monkey-ape-zoo.jpg?auto=compress&cs=tinysrgb&dpr=2&w=500\",\n    type: \"image\"\n  },\n  {\n    id: 9,\n    data: \"Un gorille\",\n    type: \"text\"\n  },\n  {\n    id: 10,\n    data:\n      \"https://images.pexels.com/photos/326012/pexels-photo-326012.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\",\n    type: \"image\"\n  },\n  {\n    id: 10,\n    data: \"Un lapin\",\n    type: \"text\"\n  }\n];\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\"\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  drawerContainer: {\n    overflow: \"auto\"\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  }\n}));\n\nexport const CardPage = () => {\n  const [cards, setCards] = useState(cardsData);\n  const [clickedCards, setClickedCards] = useState([]);\n  const [coverCards, setCoverCards] = useState(false);\n  const [removedCards, setRemovedCard] = useState([]);\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    setCards(cards =>\n      cards\n        .map(card => ({ sort: Math.random(), value: card }))\n        .sort((a, b) => a.sort - b.sort)\n        .map(({ value }) => value)\n    );\n  }, []);\n\n  const handlerAddCard = card => {\n    setClickedCards(clickedCards => [...clickedCards, card]);\n  };\n\n  const handlerRemoveCard = card => {\n    setClickedCards(clickedCards =>\n      clickedCards.filter(\n        ({ id, type }) => id !== card.id && type !== card.type\n      )\n    );\n  };\n\n  useEffect(() => {\n    console.log(clickedCards);\n    if (clickedCards.length === 2) {\n      const [card1, card2] = clickedCards;\n\n      if (card1.id === card2.id && card1.type !== card2.type) {\n        setTimeout(() => {\n          setRemovedCard(removedCards => [...removedCards, card1.id]);\n        }, 1000);\n      }\n\n      setTimeout(() => {\n        setCoverCards(true);\n      }, 1000);\n\n      setClickedCards([]);\n    } else {\n      setCoverCards(false);\n    }\n  }, [clickedCards]);\n\n  const shuffle = array => {\n    let counter = array.length;\n\n    // While there are elements in the array\n    while (counter > 0) {\n      // Pick a random index\n      let index = Math.floor(Math.random() * counter);\n\n      // Decrease counter by 1\n      counter--;\n\n      // And swap the last element with it\n      let temp = array[counter];\n      array[counter] = array[index];\n      array[index] = temp;\n    }\n\n    return array;\n  };\n\n  const onClickHandler = cardNumber => () => {\n    const cardDataTuples = cardsData.reduce((acc, curr) => {\n      const keepValues = acc[curr[\"id\"]] ? acc[curr[\"id\"]] : [];\n      return { ...acc, [curr[\"id\"]]: [curr, ...keepValues] };\n    }, {});\n    const shuffleArray = shuffle(Object.values(cardDataTuples))\n      .slice(0, cardNumber / 2)\n      .reduce((acc, curr) => [...acc, ...curr], []);\n    console.log(shuffleArray);\n    setCards(shuffleArray);\n  };\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar>\n          <Typography variant=\"h6\" noWrap>\n            Memory\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        className={classes.drawer}\n        variant=\"permanent\"\n        classes={{\n          paper: classes.drawerPaper\n        }}\n      >\n        <Toolbar />\n        <div className={classes.drawerContainer}>\n          <List>\n            <ListItem button onClick={onClickHandler(12)}>\n              <ListItemIcon>\n                <CreditCardIcon />\n              </ListItemIcon>\n              <ListItemText primary={\"12 cartes\"} />\n            </ListItem>\n            <ListItem button onClick={onClickHandler(16)}>\n              <ListItemIcon>\n                <CreditCardIcon />\n              </ListItemIcon>\n              <ListItemText primary={\"16 cartes\"} />\n            </ListItem>\n            <ListItem button onClick={onClickHandler(20)}>\n              <ListItemIcon>\n                <CreditCardIcon />\n              </ListItemIcon>\n              <ListItemText primary={\"20 cartes\"} />\n            </ListItem>\n            <ListItem button onClick={onClickHandler(24)}>\n              <ListItemIcon>\n                <CreditCardIcon />\n              </ListItemIcon>\n              <ListItemText primary={\"24 cartes\"} />\n            </ListItem>\n          </List>\n          <Divider />\n          <List>\n            <ListItem button key={\"Aide\"}>\n              <ListItemIcon>\n                <HelpIcon />\n              </ListItemIcon>\n              <ListItemText primary={\"Aide\"} />\n            </ListItem>\n            <ListItem button key={\"Contact\"}>\n              <ListItemIcon>\n                <MailIcon />\n              </ListItemIcon>\n              <ListItemText primary={\"Contact\"} />\n            </ListItem>\n          </List>\n        </div>\n      </Drawer>\n      <main className={classes.content}>\n        <Toolbar />\n        <CardContext.Provider value={{ handlerAddCard, handlerRemoveCard }}>\n          <div style={styles.parent}>\n            {cards\n              .filter(({ id }) => !removedCards.includes(id))\n              .map(card => (\n                <Card\n                  key={`${card.id}${card.type}`}\n                  card={card}\n                  cover={coverCards}\n                />\n              ))}\n          </div>\n        </CardContext.Provider>\n      </main>\n    </div>\n  );\n};\n\nconst styles = {\n  parent: {\n    display: \"flex\",\n    flex: 1,\n    flexWrap: \"wrap\",\n    justifyContent: \"space-around\",\n    paddingTop: 5\n  }\n};\n\n/*\n<div\n      style={{\n        display: \"flex\",\n        flex: 1,\n        flexWrap: \"wrap\",\n        justifyContent: \"center\",\n        flexDirection: \"column\"\n      }}\n    >\n      <Header />\n      <div\n        style={{\n          display: \"flex\",\n          flex: 1,\n          flexDirection: \"row\"\n        }}\n      >\n        <SideBar />\n        <CardContext.Provider value={{ handlerAddCard, handlerRemoveCard }}>\n          <div style={styles.parent}>\n            {cards\n              .filter(({ id }) => !removedCards.includes(id))\n              .map(card => (\n                <Card\n                  key={`${card.id}${card.type}`}\n                  card={card}\n                  cover={coverCards}\n                />\n              ))}\n          </div>\n        </CardContext.Provider>\n      </div>\n    </div>\n*/\n"]},"metadata":{},"sourceType":"module"}